<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Frasers Interview MMI Generator</title>
  <meta name="description" content="Frasers Interview MMI Generator">
  <meta name="author" content="Frasers Interview">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- JQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }

    .center {
      max-width: 600px;
      margin: 0 auto;
    }

    .selectionField {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .selection h2 {
      margin-bottom: 5px;
    }
  </style>

  <script>
    // Data structure for dropdown options
    const opts = {
      universities: [
        "ANU", "Bond", "Curtin", "Deakin", "Flinders", "Griffith", "JCU", "Macquarie",
        "Monash", "Newcastle", "UNDF/UNDS", "Adelaide", "Melbourne", "Sydney",
        "Wollongong", "Western Australia", "Western Sydney", "UQ"
      ],
      categories: {
        "ANU": ["Personal", "Medical School", "Public Health"],
        "Bond": ["Medical Ethics", "Teamwork", "Cultural Respect"],
        "Curtin": ["Decision Making", "Communication", "University Specifics"],
        "Default": ["Category A", "Category B", "Category C"]
      },
      subcategories: {
        "Personal": ["Motivation", "Strengths and Weaknesses", "Experience"],
        "Medical Ethics": ["Confidentiality", "Autonomy", "Justice"],
        "Default": ["Subcategory A", "Subcategory B", "Subcategory C"]
      }
    };

    // Initialize the first dropdown (Universities)
    function initializeDropdowns() {
      const uniSelect = document.getElementById('uni');
      uniSelect.innerHTML = '<option value="">Select a University</option>';

      opts.universities.forEach(uni => {
        const option = new Option(uni, uni);
        uniSelect.add(option);
      });

      resetDropdown('topic');
      resetDropdown('subTop');
    }

    // Reset a dropdown to its default state
    function resetDropdown(dropdownId) {
      const dropdown = document.getElementById(dropdownId);
      dropdown.innerHTML = `<option value="">Select ${dropdownId}</option>`;
    }

    // Filter options dynamically
    function filterDropdown(level) {
      if (level === 0) {
        const uniSelect = document.getElementById('uni').value;
        const topicSelect = document.getElementById('topic');
        const categories = opts.categories[uniSelect] || opts.categories["Default"];

        resetDropdown('topic');
        resetDropdown('subTop');

        categories.forEach(category => {
          const option = new Option(category, category);
          topicSelect.add(option);
        });
      } else if (level === 1) {
        const topicSelect = document.getElementById('topic').value;
        const subTopSelect = document.getElementById('subTop');
        const subcategories = opts.subcategories[topicSelect] || opts.subcategories["Default"];

        resetDropdown('subTop');

        subcategories.forEach(subcategory => {
          const option = new Option(subcategory, subcategory);
          subTopSelect.add(option);
        });
      }
    }

    // Auto-initialize on page load
    window.onload = initializeDropdowns;
  </script>
</head>

<body>
  <div class="center">
    <div class="selectionField">
      <div class="selection">
        <h2>University</h2>
        <select id="uni" onchange="filterDropdown(0)">
        </select>
      </div>
      <div class="selection">
        <h2>Category</h2>
        <select id="topic" onchange="filterDropdown(1)">
        </select>
      </div>
      <div class="selection">
        <h2>Subcategory</h2>
        <select id="subTop">
        </select>
      </div>
      <div class="buttons">
        <button onclick="initializeDropdowns()" class="btn btn-primary">Reset</button>
      </div>
    </div>
  </div>
</body>

</html>
